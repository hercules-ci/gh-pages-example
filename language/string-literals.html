<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>String literals - Nix 2.28.1 Reference Manual</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="../highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="../tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="../custom.css">


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "../";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../toc.js"></script>
    </head>
    <body>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Nix 2.28.1 Reference Manual</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/NixOS/nix" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        <a href="https://github.com/NixOS/nix/tree/master/doc/manual/source/language/string-literals.md" title="Suggest an edit" aria-label="Suggest an edit">
                            <i id="git-edit-button" class="fa fa-edit"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="string-literals"><a class="header" href="#string-literals">String literals</a></h1>
<p>A <em>string literal</em> represents a <a href="types.html#type-string">string</a> value.</p>
<blockquote>
<p><strong>Syntax</strong></p>
<p><em>expression</em> → <em>string</em></p>
<p><em>string</em> → <code>"</code> ( <em>string_char</em>* <a href="./string-interpolation.html"><em>interpolation_element</em></a> )* <em>string_char</em>* <code>"</code></p>
<p><em>string</em> → <code>''</code> ( <em>indented_string_char</em>* <a href="./string-interpolation.html"><em>interpolation_element</em></a> )* <em>indented_string_char</em>* <code>''</code></p>
<p><em>string</em> → <em>uri</em></p>
<p><em>string_char</em> ~ <code>[^"$\\]|\$(?!\{)|\\.</code></p>
<p><em>indented_string_char</em> ~ <code>[^$']|\$\$|\$(?!\{)|''[$']|''\\.|'(?!')</code></p>
<p><em>uri</em> ~ <code>[A-Za-z][+\-.0-9A-Za-z]*:[!$%&amp;'*+,\-./0-9:=?@A-Z_a-z~]+</code></p>
</blockquote>
<p>Strings can be written in three ways.</p>
<p>The most common way is to enclose the string between double quotes, e.g., <code>"foo bar"</code>.
Strings can span multiple lines.
The results of other expressions can be included into a string by enclosing them in <code>${ }</code>, a feature known as <a href="./string-interpolation.html">string interpolation</a>.</p>
<p>The following must be escaped to represent them within a string, by prefixing with a backslash (<code>\</code>):</p>
<ul>
<li>Double quote (<code>"</code>)</li>
</ul>
<blockquote>
<p><strong>Example</strong></p>
<pre><code class="language-nix">"\""
</code></pre>
<pre><code>"\""
</code></pre>
</blockquote>
<ul>
<li>Backslash (<code>\</code>)</li>
</ul>
<blockquote>
<p><strong>Example</strong></p>
<pre><code class="language-nix">"\\"
</code></pre>
<pre><code>"\\"
</code></pre>
</blockquote>
<ul>
<li>Dollar sign followed by an opening curly bracket (<code>${</code>) – "dollar-curly"</li>
</ul>
<blockquote>
<p><strong>Example</strong></p>
<pre><code class="language-nix">"\${"
</code></pre>
<pre><code>"\${"
</code></pre>
</blockquote>
<p>The newline, carriage return, and tab characters can be written as <code>\n</code>, <code>\r</code> and <code>\t</code>, respectively.</p>
<p>A "double-dollar-curly" (<code>$${</code>) can be written literally.</p>
<blockquote>
<p><strong>Example</strong></p>
<pre><code class="language-nix">"$${"
</code></pre>
<pre><code>"$\${"
</code></pre>
</blockquote>
<p>String values are output on the terminal with Nix-specific escaping.
Strings written to files will contain the characters encoded by the escaping.</p>
<p>The second way to write string literals is as an <em>indented string</em>, which is enclosed between pairs of <em>double single-quotes</em> (<code>''</code>), like so:</p>
<pre><code class="language-nix">''
This is the first line.
This is the second line.
  This is the third line.
''
</code></pre>
<p>This kind of string literal intelligently strips indentation from
the start of each line. To be precise, it strips from each line a
number of spaces equal to the minimal indentation of the string as a
whole (disregarding the indentation of empty lines). For instance,
the first and second line are indented two spaces, while the third
line is indented four spaces. Thus, two spaces are stripped from
each line, so the resulting string is</p>
<pre><code class="language-nix">"This is the first line.\nThis is the second line.\n  This is the third line.\n"
</code></pre>
<blockquote>
<p><strong>Note</strong></p>
<p>Whitespace and newline following the opening <code>''</code> is ignored if there is no non-whitespace text on the initial line.</p>
</blockquote>
<blockquote>
<p><strong>Warning</strong></p>
<p>Prefixed tab characters are not stripped.</p>
<blockquote>
<p><strong>Example</strong></p>
<p>The following indented string is prefixed with tabs:</p>
<pre><code class="nohighlight">''
	all:
		@echo hello
''
</code></pre>
<pre><code>"\tall:\n\t\t@echo hello\n"
</code></pre>
</blockquote>
</blockquote>
<p>Indented strings support <a href="./string-interpolation.html">string interpolation</a>.</p>
<p>The following must be escaped to represent them in an indented string:</p>
<ul>
<li><code>$</code> is escaped by prefixing it with two single quotes (<code>''</code>)</li>
</ul>
<blockquote>
<p><strong>Example</strong></p>
<pre><code class="language-nix">''
  ''$
''
</code></pre>
<pre><code>"$\n"
</code></pre>
</blockquote>
<ul>
<li><code>''</code> is escaped by prefixing it with one single quote (<code>'</code>)</li>
</ul>
<blockquote>
<p><strong>Example</strong></p>
<pre><code class="language-nix">''
  '''
''
</code></pre>
<pre><code>"''\n"
</code></pre>
</blockquote>
<p>These special characters are escaped as follows:</p>
<ul>
<li>Linefeed (<code>\n</code>): <code>''\n</code></li>
<li>Carriage return (<code>\r</code>): <code>''\r</code></li>
<li>Tab (<code>\t</code>): <code>''\t</code></li>
</ul>
<p><code>''\</code> escapes any other character.</p>
<p>A "dollar-curly" (<code>${</code>) can be written as follows:</p>
<blockquote>
<p><strong>Example</strong></p>
<pre><code class="language-nix">''
  echo ''${PATH}
''
</code></pre>
<pre><code>"echo ${PATH}\n"
</code></pre>
</blockquote>
<blockquote>
<p><strong>Note</strong></p>
<p>This differs from the syntax for escaping a dollar-curly within double quotes (<code>"\${"</code>). Be aware of which one is needed at a given moment.</p>
</blockquote>
<p>A "double-dollar-curly" (<code>$${</code>) can be written literally.</p>
<blockquote>
<p><strong>Example</strong></p>
<pre><code class="language-nix">''
  $${
''
</code></pre>
<pre><code>"$\${\n"
</code></pre>
</blockquote>
<p>Indented strings are primarily useful in that they allow multi-line
string literals to follow the indentation of the enclosing Nix
expression, and that less escaping is typically necessary for
strings representing languages such as shell scripts and
configuration files because <code>''</code> is much less common than <code>"</code>.
Example:</p>
<pre><code class="language-nix">stdenv.mkDerivation {
...
postInstall =
  ''
    mkdir $out/bin $out/etc
    cp foo $out/bin
    echo "Hello World" &gt; $out/etc/foo.conf
    ${if enableBar then "cp bar $out/bin" else ""}
  '';
...
}
</code></pre>
<p>Finally, as a convenience, <em>URIs</em> as defined in appendix B of
<a href="http://www.ietf.org/rfc/rfc2396.txt">RFC 2396</a> can be written <em>as
is</em>, without quotes. For instance, the string
<code>"http://example.org/foo.tar.bz2"</code> can also be written as
<code>http://example.org/foo.tar.bz2</code>.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../language/variables.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../language/identifiers.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../language/variables.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../language/identifiers.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->
        <script src="../redirects.js"></script>


    </div>
    </body>
</html>

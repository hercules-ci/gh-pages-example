<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Testing - Nix 2.31.3 Reference Manual</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon-de23e50b.svg">
        <link rel="shortcut icon" href="../favicon-8114d1fc.png">
        <link rel="stylesheet" href="../css/variables-8adf115d.css">
        <link rel="stylesheet" href="../css/general-2459343d.css">
        <link rel="stylesheet" href="../css/chrome-ae938929.css">
        <link rel="stylesheet" href="../css/print-9e4910d8.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../fonts/fonts-9644e21d.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="mdbook-highlight-css" href="../highlight-493f70e1.css">
        <link rel="stylesheet" id="mdbook-tomorrow-night-css" href="../tomorrow-night-4c0ae647.css">
        <link rel="stylesheet" id="mdbook-ayu-highlight-css" href="../ayu-highlight-3fdfc3ac.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="../custom-80d08c7f.css">


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "../";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
            window.path_to_searchindex_js = "../searchindex-374ccf4d.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../toc-f3fccd7f.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>‚Üê</kbd> or <kbd>‚Üí</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="mdbook-body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="mdbook-sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("mdbook-sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="mdbook-sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../toc.html"></iframe>
            </noscript>
            <div id="mdbook-sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="mdbook-page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="mdbook-menu-bar-hover-placeholder"></div>
                <div id="mdbook-menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="mdbook-sidebar-toggle" class="icon-button" for="mdbook-sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="mdbook-sidebar">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"/></svg></span>
                        </label>
                        <button id="mdbook-theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="mdbook-theme-list">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M371.3 367.1c27.3-3.9 51.9-19.4 67.2-42.9L600.2 74.1c12.6-19.5 9.4-45.3-7.6-61.2S549.7-4.4 531.1 9.6L294.4 187.2c-24 18-38.2 46.1-38.4 76.1L371.3 367.1zm-19.6 25.4l-116-104.4C175.9 290.3 128 339.6 128 400c0 3.9 .2 7.8 .6 11.6c1.8 17.5-10.2 36.4-27.8 36.4H96c-17.7 0-32 14.3-32 32s14.3 32 32 32H240c61.9 0 112-50.1 112-112c0-2.5-.1-5-.2-7.5z"/></svg></span>
                        </button>
                        <ul id="mdbook-theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-ayu">Ayu</button></li>
                        </ul>
                        <button id="mdbook-search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="mdbook-searchbar">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352c79.5 0 144-64.5 144-144s-64.5-144-144-144S64 128.5 64 208s64.5 144 144 144z"/></svg></span>
                        </button>
                    </div>

                    <h1 class="menu-title">Nix 2.31.3 Reference Manual</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <span class=fa-svg id="print-button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M128 0C92.7 0 64 28.7 64 64v96h64V64H354.7L384 93.3V160h64V93.3c0-17-6.7-33.3-18.7-45.3L400 18.7C388 6.7 371.7 0 354.7 0H128zM384 352v32 64H128V384 368 352H384zm64 32h32c17.7 0 32-14.3 32-32V256c0-35.3-28.7-64-64-64H64c-35.3 0-64 28.7-64 64v96c0 17.7 14.3 32 32 32H64v64c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V384zm-16-88c-13.3 0-24-10.7-24-24s10.7-24 24-24s24 10.7 24 24s-10.7 24-24 24z"/></svg></span>
                        </a>
                        <a href="https://github.com/NixOS/nix" title="Git repository" aria-label="Git repository">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg></span>
                        </a>
                        <a href="https://github.com/NixOS/nix/tree/master/doc/manual/source/development/testing.md" title="Suggest an edit" aria-label="Suggest an edit" rel="edit">
                            <span class=fa-svg id="git-edit-button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M421.7 220.3l-11.3 11.3-22.6 22.6-205 205c-6.6 6.6-14.8 11.5-23.8 14.1L30.8 511c-8.4 2.5-17.5 .2-23.7-6.1S-1.5 489.7 1 481.2L38.7 353.1c2.6-9 7.5-17.2 14.1-23.8l205-205 22.6-22.6 11.3-11.3 33.9 33.9 62.1 62.1 33.9 33.9zM96 353.9l-9.3 9.3c-.9 .9-1.6 2.1-2 3.4l-25.3 86 86-25.3c1.3-.4 2.5-1.1 3.4-2l9.3-9.3H112c-8.8 0-16-7.2-16-16V353.9zM453.3 19.3l39.4 39.4c25 25 25 65.5 0 90.5l-14.5 14.5-22.6 22.6-11.3 11.3-33.9-33.9-62.1-62.1L314.3 67.7l11.3-11.3 22.6-22.6 14.5-14.5c25-25 65.5-25 90.5 0z"/></svg></span>
                        </a>

                    </div>
                </div>

                <div id="mdbook-search-wrapper" class="hidden">
                    <form id="mdbook-searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="mdbook-searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="mdbook-searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <span class=fa-svg id="fa-spin"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M304 48c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zm0 416c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zM48 304c26.5 0 48-21.5 48-48s-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48zm464-48c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zM142.9 437c18.7-18.7 18.7-49.1 0-67.9s-49.1-18.7-67.9 0s-18.7 49.1 0 67.9s49.1 18.7 67.9 0zm0-294.2c18.7-18.7 18.7-49.1 0-67.9S93.7 56.2 75 75s-18.7 49.1 0 67.9s49.1 18.7 67.9 0zM369.1 437c18.7 18.7 49.1 18.7 67.9 0s18.7-49.1 0-67.9s-49.1-18.7-67.9 0s-18.7 49.1 0 67.9z"/></svg></span>
                            </div>
                        </div>
                    </form>
                    <div id="mdbook-searchresults-outer" class="searchresults-outer hidden">
                        <div id="mdbook-searchresults-header" class="searchresults-header"></div>
                        <ul id="mdbook-searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('mdbook-sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('mdbook-sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#mdbook-sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="mdbook-content" class="content">
                    <main>
                        <h1 id="running-tests"><a class="header" href="#running-tests">Running tests</a></h1>
<h2 id="coverage-analysis"><a class="header" href="#coverage-analysis">Coverage analysis</a></h2>
<p>A <a href="https://hydra.nixos.org/job/nix/master/coverage/latest/download-by-type/report/coverage">coverage analysis report</a> is available online
You can build it yourself:</p>
<pre><code># nix build .#hydraJobs.coverage
# xdg-open ./result/coverage/index.html
</code></pre>
<p><a href="https://hydra.nixos.org/job/nix/master/coverage#tabs-charts">Extensive records of build metrics</a>, such as test coverage over time, are also available online.</p>
<h2 id="unit-tests"><a class="header" href="#unit-tests">Unit-tests</a></h2>
<p>The unit tests are defined using the <a href="https://google.github.io/googletest/">googletest</a> and <a href="https://github.com/emil-e/rapidcheck">rapidcheck</a> frameworks.</p>
<h3 id="source-and-header-layout"><a class="header" href="#source-and-header-layout">Source and header layout</a></h3>
<blockquote>
<p>An example of some files, demonstrating much of what is described below</p>
<pre><code>src
‚îú‚îÄ‚îÄ libexpr
‚îÇ   ‚îú‚îÄ‚îÄ meson.build
‚îÇ   ‚îú‚îÄ‚îÄ include/nix/expr/value/context.hh
‚îÇ   ‚îú‚îÄ‚îÄ value/context.cc
‚îÇ   ‚Ä¶
‚îÇ
‚îú‚îÄ‚îÄ tests
‚îÇ   ‚îÇ
‚îÇ   ‚Ä¶
‚îÇ   ‚îú‚îÄ‚îÄ libutil-tests
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ meson.build
‚îÇ   ‚îÇ   ‚Ä¶
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ data
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ git/tree.txt
‚îÇ   ‚îÇ       ‚Ä¶
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ libexpr-test-support
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ meson.build
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ include/nix/expr
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ meson.build
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ tests
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ value/context.hh
‚îÇ   ‚îÇ   ‚îÇ       ‚Ä¶
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ tests
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ value/context.cc
‚îÇ   ‚îÇ       ‚Ä¶
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ libexpr-tests
‚îÇ   ‚Ä¶   ‚îú‚îÄ‚îÄ meson.build
‚îÇ       ‚îú‚îÄ‚îÄ value/context.cc
‚îÇ       ‚Ä¶
‚Ä¶
</code></pre>
</blockquote>
<p>The tests for each Nix library (<code>libnixexpr</code>, <code>libnixstore</code>, etc..) live inside a directory <code>src/${library_name_without-nix}-test</code>.
Given an interface (header) and implementation pair in the original library, say, <code>src/libexpr/include/nix/expr/value/context.hh</code> and <code>src/libexpr/value/context.cc</code>, we write tests for it in <code>src/libexpr-tests/value/context.cc</code>, and (possibly) declare/define additional interfaces for testing purposes in <code>src/libexpr-test-support/include/nix/expr/tests/value/context.hh</code> and <code>src/libexpr-test-support/tests/value/context.cc</code>.</p>
<p>Data for unit tests is stored in a <code>data</code> subdir of the directory for each unit test executable.
For example, <code>libnixstore</code> code is in <code>src/libstore</code>, and its test data is in <code>src/libstore-tests/data</code>.
The path to the <code>src/${library_name_without-nix}-test/data</code> directory is passed to the unit test executable with the environment variable <code>_NIX_TEST_UNIT_DATA</code>.
Note that each executable only gets the data for its tests.</p>
<p>The unit test libraries are in <code>src/${library_name_without-nix}-test-support</code>.
All headers are in a <code>tests</code> subdirectory so they are included with <code>#include "nix/tests/"</code>.</p>
<p>The use of all these separate directories for the unit tests might seem inconvenient, as for example the tests are not ‚Äúright next to‚Äù the part of the code they are testing.
But organizing the tests this way has one big benefit:
there is no risk of any build-system wildcards for the library accidentally picking up test code that should not built and installed as part of the library.</p>
<h3 id="running-tests-1"><a class="header" href="#running-tests-1">Running tests</a></h3>
<p>You can run the whole testsuite with <code>meson test</code> from the Meson build directory, or the tests for a specific component with <code>meson test nix-store-tests</code>.
A environment variables that Google Test accepts are also worth knowing:</p>
<ol>
<li>
<p><a href="https://google.github.io/googletest/advanced.html#running-a-subset-of-the-tests"><code>GTEST_FILTER</code></a></p>
<p>This is used for finer-grained filtering of which tests to run.</p>
</li>
<li>
<p><a href="https://google.github.io/googletest/advanced.html#suppressing-test-passes"><code>GTEST_BRIEF</code></a></p>
<p>This is used to avoid logging passing tests.</p>
</li>
<li>
<p><a href="https://google.github.io/googletest/advanced.html#turning-assertion-failures-into-break-points"><code>GTEST_BREAK_ON_FAILURE</code></a></p>
<p>This is used to create a debugger breakpoint when an assertion failure occurs.</p>
</li>
</ol>
<p>Putting the first two together, one might run</p>
<pre><code class="language-bash">GTEST_BRIEF=1 GTEST_FILTER='ErrorTraceTest.*' meson test nix-expr-tests -v
</code></pre>
<p>for short but comprensive output.</p>
<h3 id="debugging-tests"><a class="header" href="#debugging-tests">Debugging tests</a></h3>
<p>For debugging, it is useful to combine the third option above with Meson‚Äôs <a href="https://mesonbuild.com/Unit-tests.html#other-test-options"><code>--gdb</code></a> flag:</p>
<pre><code class="language-bash">GTEST_BRIEF=1 GTEST_FILTER='Group.my-failing-test' meson test nix-expr-tests --gdb
</code></pre>
<p>This will:</p>
<ol>
<li>
<p>Run the unit test with GDB</p>
</li>
<li>
<p>Run just <code>Group.my-failing-test</code></p>
</li>
<li>
<p>Stop the program when the test fails, allowing the user to then issue arbitrary commands to GDB.</p>
</li>
</ol>
<h3 id="characaterisation-testing-unit"><a class="header" href="#characaterisation-testing-unit">Characterisation testing</a></h3>
<p>See <a href="#characterisation-testing-functional">functional characterisation testing</a> for a broader discussion of characterisation testing.</p>
<p>Like with the functional characterisation, <code>_NIX_TEST_ACCEPT=1</code> is also used.
For example:</p>
<pre><code class="language-shell-session">$ _NIX_TEST_ACCEPT=1 meson test nix-store-tests -v
...
[  SKIPPED ] WorkerProtoTest.string_read
[  SKIPPED ] WorkerProtoTest.string_write
[  SKIPPED ] WorkerProtoTest.storePath_read
[  SKIPPED ] WorkerProtoTest.storePath_write
...
</code></pre>
<p>will regenerate the ‚Äúgolden master‚Äù expected result for the <code>libnixstore</code> characterisation tests.
The characterisation tests will mark themselves ‚Äúskipped‚Äù since they regenerated the expected result instead of actually testing anything.</p>
<h3 id="unit-test-support-libraries"><a class="header" href="#unit-test-support-libraries">Unit test support libraries</a></h3>
<p>There are headers and code which are not just used to test the library in question, but also downstream libraries.
For example, we do <a href="https://en.wikipedia.org/wiki/Property_testing">property testing</a> with the <a href="https://github.com/emil-e/rapidcheck">rapidcheck</a> library.
This requires writing <code>Arbitrary</code> ‚Äúinstances‚Äù, which are used to describe how to generate values of a given type for the sake of running property tests.
Because types contain other types, <code>Arbitrary</code> ‚Äúinstances‚Äù for some type are not just useful for testing that type, but also any other type that contains it.
Downstream types frequently contain upstream types, so it is very important that we share arbitrary instances so that downstream libraries‚Äô property tests can also use them.</p>
<p>It is important that these testing libraries don‚Äôt contain any actual tests themselves.
On some platforms they would be run as part of every test executable that uses them, which is redundant.
On other platforms they wouldn‚Äôt be run at all.</p>
<h2 id="functional-tests"><a class="header" href="#functional-tests">Functional tests</a></h2>
<p>The functional tests reside under the <code>tests/functional</code> directory and are listed in <code>tests/functional/meson.build</code>.
Each test is a bash script.</p>
<p>Functional tests are run during <code>installCheck</code> in the <code>nix</code> package build, as well as separately from the build, in VM tests.</p>
<h3 id="running-the-whole-test-suite"><a class="header" href="#running-the-whole-test-suite">Running the whole test suite</a></h3>
<p>The whole test suite (functional and unit tests) can be run with:</p>
<pre><code class="language-shell-session">$ checkPhase
</code></pre>
<h3 id="grouping-tests"><a class="header" href="#grouping-tests">Grouping tests</a></h3>
<p>Sometimes it is useful to group related tests so they can be easily run together without running the entire test suite.
Each test group is in a subdirectory of <code>tests</code>.
For example, <code>tests/functional/ca/meson.build</code> defines a <code>ca</code> test group for content-addressing derivation outputs.</p>
<p>That test group can be run like this:</p>
<pre><code class="language-shell-session">$ meson test --suite ca
ninja: Entering directory `/home/jcericson/src/nix/master/build'
ninja: no work to do.
[1-20/20] üåë nix-functional-tests:ca / ca/why-depends                                1/20 nix-functional-tests:ca / ca/nix-run                                  OK               0.16s
[2-20/20] üåí nix-functional-tests:ca / ca/why-depends                                2/20 nix-functional-tests:ca / ca/import-derivation                        OK               0.17s
</code></pre>
<h3 id="running-individual-tests"><a class="header" href="#running-individual-tests">Running individual tests</a></h3>
<p>Individual tests can be run with <code>meson</code>:</p>
<pre><code class="language-shell-session">$ meson test --verbose ${testName}
ninja: Entering directory `/home/jcericson/src/nix/master/build'
ninja: no work to do.
1/1 nix-functional-tests:main / ${testName}        OK               0.41s

Ok:                 1
Expected Fail:      0
Fail:               0
Unexpected Pass:    0
Skipped:            0
Timeout:            0

Full log written to /home/jcericson/src/nix/master/build/meson-logs/testlog.txt
</code></pre>
<p>The <code>--verbose</code> flag will make Meson also show the console output of each test for easier debugging.
The test script will then be traced with <code>set -x</code> and the output displayed as it happens,
regardless of whether the test succeeds or fails.</p>
<p>Tests can be also run directly without <code>meson</code>:</p>
<pre><code class="language-shell-session">$ TEST_NAME=${testName} NIX_REMOTE='' PS4='+(${BASH_SOURCE[0]-$0}:$LINENO) tests/functional/${testName}.sh
+(${testName}.sh:1) foo
output from foo
+(${testName}.sh:2) bar
output from bar
...
</code></pre>
<h3 id="debugging-failing-functional-tests"><a class="header" href="#debugging-failing-functional-tests">Debugging failing functional tests</a></h3>
<p>When a functional test fails, it usually does so somewhere in the middle of the script.</p>
<p>To figure out what‚Äôs wrong, it is convenient to run the test regularly up to the failing <code>nix</code> command, and then run that command with a debugger like GDB.</p>
<p>For example, if the script looks like:</p>
<pre><code class="language-bash">foo
nix blah blub
bar
</code></pre>
<p>edit it like so:</p>
<pre><code class="language-diff"> foo
-nix blah blub
+gdb --args nix blah blub
 bar
</code></pre>
<p>Then, running the test with <a href="https://mesonbuild.com/Unit-tests.html#other-test-options"><code>--interactive</code></a> will prevent Meson from hijacking the terminal so you can drop you into GDB once the script reaches that point:</p>
<pre><code class="language-shell-session">$ meson test ${testName} --interactive
...
+ gdb blash blub
GNU gdb (GDB) 12.1
...
(gdb)
</code></pre>
<p>One can debug the Nix invocation in all the usual ways.
For example, enter <code>run</code> to start the Nix invocation.</p>
<h3 id="troubleshooting"><a class="header" href="#troubleshooting">Troubleshooting</a></h3>
<p>Sometimes running tests in the development shell may leave artefacts in the local repository.
To remove any traces of that:</p>
<pre><code class="language-console">git clean -x --force tests
</code></pre>
<h3 id="characterisation-testing-functional"><a class="header" href="#characterisation-testing-functional">Characterisation testing</a></h3>
<p>Occasionally, Nix utilizes a technique called <a href="https://en.wikipedia.org/wiki/Characterization_test">Characterisation Testing</a> as part of the functional tests.
This technique is to include the exact output/behavior of a former version of Nix in a test in order to check that Nix continues to produce the same behavior going forward.</p>
<p>For example, this technique is used for the language tests, to check both the printed final value if evaluation was successful, and any errors and warnings encountered.</p>
<p>It is frequently useful to regenerate the expected output.
To do that, rerun the failed test(s) with <code>_NIX_TEST_ACCEPT=1</code>.
For example:</p>
<pre><code class="language-bash">_NIX_TEST_ACCEPT=1 meson test lang
</code></pre>
<p>This convention is shared with the <a href="#characterisation-testing-unit">characterisation unit tests</a> too.</p>
<p>An interesting situation to document is the case when these tests are ‚Äúoverfitted‚Äù.
The language tests are, again, an example of this.
The expected successful output of evaluation is supposed to be highly stable ‚Äì we do not intend to make breaking changes to (the stable parts of) the Nix language.
However, the errors and warnings during evaluation (successful or not) are not stable in this way.
We are free to change how they are displayed at any time.</p>
<p>It may be surprising that we would test non-normative behavior like diagnostic outputs.
Diagnostic outputs are indeed not a stable interface, but they still are important to users.
By recording the expected output, the test suite guards against accidental changes, and ensure the <em>result</em> (not just the code that implements it) of the diagnostic code paths are under code review.
Regressions are caught, and improvements always show up in code review.</p>
<p>To ensure that characterisation testing doesn‚Äôt make it harder to intentionally change these interfaces, there always must be an easy way to regenerate the expected output, as we do with <code>_NIX_TEST_ACCEPT=1</code>.</p>
<h3 id="running-functional-tests-on-nixos"><a class="header" href="#running-functional-tests-on-nixos">Running functional tests on NixOS</a></h3>
<p>We run the functional tests not just in the build, but also in VM tests.
This helps us ensure that Nix works correctly on NixOS, and environments that have similar characteristics that are hard to reproduce in a build environment.</p>
<p>These can be run with:</p>
<pre><code class="language-shell">nix build .#hydraJobs.tests.functional_user
</code></pre>
<p>Generally, this build is sufficient, but in nightly or CI we also test the attributes <code>functional_root</code> and <code>functional_trusted</code>, in which the test suite is run with different levels of authorization.</p>
<h2 id="integration-tests"><a class="header" href="#integration-tests">Integration tests</a></h2>
<p>The integration tests are defined in the Nix flake under the <code>hydraJobs.tests</code> attribute.
These tests include everything that needs to interact with external services or run Nix in a non-trivial distributed setup.
Because these tests are expensive and require more than what the standard github-actions setup provides, they only run on the master branch (on <a href="https://hydra.nixos.org/jobset/nix/master">https://hydra.nixos.org/jobset/nix/master</a>).</p>
<p>You can run them manually with <code>nix build .#hydraJobs.tests.{testName}</code> or <code>nix-build -A hydraJobs.tests.{testName}</code>.</p>
<h2 id="installer-tests"><a class="header" href="#installer-tests">Installer tests</a></h2>
<p>After a one-time setup, the Nix repository‚Äôs GitHub Actions continuous integration (CI) workflow can test the installer each time you push to a branch.</p>
<p>Creating a Cachix cache for your installer tests and adding its authorisation token to GitHub enables <a href="https://github.com/NixOS/nix/blob/88a45d6149c0e304f6eb2efcc2d7a4d0d569f8af/.github/workflows/ci.yml#L50-L91">two installer-specific jobs in the CI workflow</a>:</p>
<ul>
<li>
<p>The <code>installer</code> job generates installers for the platforms below and uploads them to your Cachix cache:</p>
<ul>
<li><code>x86_64-linux</code></li>
<li><code>armv6l-linux</code></li>
<li><code>armv7l-linux</code></li>
<li><code>x86_64-darwin</code></li>
</ul>
</li>
<li>
<p>The <code>installer_test</code> job (which runs on <code>ubuntu-24.04</code> and <code>macos-14</code>) will try to install Nix with the cached installer and run a trivial Nix command.</p>
</li>
</ul>
<h3 id="one-time-setup"><a class="header" href="#one-time-setup">One-time setup</a></h3>
<ol>
<li>Have a GitHub account with a fork of the <a href="https://github.com/NixOS/nix">Nix repository</a>.</li>
<li>At cachix.org:
<ul>
<li>Create or log in to an account.</li>
<li>Create a Cachix cache using the format <code>&lt;github-username&gt;-nix-install-tests</code>.</li>
<li>Navigate to the new cache &gt; Settings &gt; Auth Tokens.</li>
<li>Generate a new Cachix auth token and copy the generated value.</li>
</ul>
</li>
<li>At github.com:
<ul>
<li>Navigate to your Nix fork &gt; Settings &gt; Secrets &gt; Actions &gt; New repository secret.</li>
<li>Name the secret <code>CACHIX_AUTH_TOKEN</code>.</li>
<li>Paste the copied value of the Cachix cache auth token.</li>
</ul>
</li>
</ol>
<h2 id="working-on-documentation"><a class="header" href="#working-on-documentation">Working on documentation</a></h2>
<h3 id="using-the-ci-generated-installer-for-manual-testing"><a class="header" href="#using-the-ci-generated-installer-for-manual-testing">Using the CI-generated installer for manual testing</a></h3>
<p>After the CI run completes, you can check the output to extract the installer URL:</p>
<ol>
<li>
<p>Click into the detailed view of the CI run.</p>
</li>
<li>
<p>Click into any <code>installer_test</code> run (the URL you‚Äôre here to extract will be the same in all of them).</p>
</li>
<li>
<p>Click into the <code>Run cachix/install-nix-action@v...</code> step and click the detail triangle next to the first log line (it will also be <code>Run cachix/install-nix-action@v...</code>)</p>
</li>
<li>
<p>Copy the value of <code>install_url</code></p>
</li>
<li>
<p>To generate an install command, plug this <code>install_url</code> and your GitHub username into this template:</p>
<pre><code class="language-console">curl -L &lt;install_url&gt; | sh -s -- --tarball-url-prefix https://&lt;github-username&gt;-nix-install-tests.cachix.org/serve
</code></pre>
</li>
</ol>
<!-- #### Manually generating test installers

There's obviously a manual way to do this, and it's still the only way for
platforms that lack GA runners.

I did do this back in Fall 2020 (before the GA approach encouraged here). I'll
sketch what I recall in case it encourages someone to fill in detail, but: I
didn't know what I was doing at the time and had to fumble/ask around a lot--
so I don't want to uphold any of it as "right". It may have been dumb or
the _hard_ way from the getgo. Fundamentals may have changed since.

Here's the build command I used to do this on and for x86_64-darwin:
nix build --out-link /tmp/foo ".#checks.x86_64-darwin.binaryTarball"

I used the stable out-link to make it easier to script the next steps:
link=$(readlink /tmp/foo)
cp $link/*-darwin.tar.xz ~/somewheres

I've lost the last steps and am just going from memory:

From here, I think I had to extract and modify the `install` script to point
it at this tarball (which I scped to my own site, but it might make more sense
to just share them locally). I extracted this script once and then just
search/replaced in it for each new build.

The installer now supports a `--tarball-url-prefix` flag which _may_ have
solved this need?
-->

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../development/building.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/></svg></span>
                            </a>

                            <a rel="next prefetch" href="../development/benchmarking.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"/></svg></span>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../development/building.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/></svg></span>
                    </a>

                    <a rel="next prefetch" href="../development/benchmarking.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"/></svg></span>
                    </a>
            </nav>

        </div>

        <template id=fa-eye><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM432 256c0 79.5-64.5 144-144 144s-144-64.5-144-144s64.5-144 144-144s144 64.5 144 144zM288 192c0 35.3-28.7 64-64 64c-11.5 0-22.3-3-31.6-8.4c-.2 2.8-.4 5.5-.4 8.4c0 53 43 96 96 96s96-43 96-96s-43-96-96-96c-2.8 0-5.6 .1-8.4 .4c5.3 9.3 8.4 20.1 8.4 31.6z"/></svg></span></template>
        <template id=fa-eye-slash><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zM223.1 149.5C248.6 126.2 282.7 112 320 112c79.5 0 144 64.5 144 144c0 24.9-6.3 48.3-17.4 68.7L408 294.5c5.2-11.8 8-24.8 8-38.5c0-53-43-96-96-96c-2.8 0-5.6 .1-8.4 .4c5.3 9.3 8.4 20.1 8.4 31.6c0 10.2-2.4 19.8-6.6 28.3l-90.3-70.8zm223.1 298L373 389.9c-16.4 6.5-34.3 10.1-53 10.1c-79.5 0-144-64.5-144-144c0-6.9 .5-13.6 1.4-20.2L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5z"/></svg></span></template>
        <template id=fa-copy><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M502.6 70.63l-61.25-61.25C435.4 3.371 427.2 0 418.7 0H255.1c-35.35 0-64 28.66-64 64l.0195 256C192 355.4 220.7 384 256 384h192c35.2 0 64-28.8 64-64V93.25C512 84.77 508.6 76.63 502.6 70.63zM464 320c0 8.836-7.164 16-16 16H255.1c-8.838 0-16-7.164-16-16L239.1 64.13c0-8.836 7.164-16 16-16h128L384 96c0 17.67 14.33 32 32 32h47.1V320zM272 448c0 8.836-7.164 16-16 16H63.1c-8.838 0-16-7.164-16-16L47.98 192.1c0-8.836 7.164-16 16-16H160V128H63.99c-35.35 0-64 28.65-64 64l.0098 256C.002 483.3 28.66 512 64 512h192c35.2 0 64-28.8 64-64v-32h-47.1L272 448z"/></svg></span></template>
        <template id=fa-play><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80V432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z"/></svg></span></template>
        <template id=fa-clock-rotate-left><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M75 75L41 41C25.9 25.9 0 36.6 0 57.9V168c0 13.3 10.7 24 24 24H134.1c21.4 0 32.1-25.9 17-41l-30.8-30.8C155 85.5 203 64 256 64c106 0 192 86 192 192s-86 192-192 192c-40.8 0-78.6-12.7-109.7-34.4c-14.5-10.1-34.4-6.6-44.6 7.9s-6.6 34.4 7.9 44.6C151.2 495 201.7 512 256 512c141.4 0 256-114.6 256-256S397.4 0 256 0C185.3 0 121.3 28.7 75 75zm181 53c-13.3 0-24 10.7-24 24V256c0 6.4 2.5 12.5 7 17l72 72c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-65-65V152c0-13.3-10.7-24-24-24z"/></svg></span></template>



        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr-ef4e11c1.min.js"></script>
        <script src="../mark-09e88c2c.min.js"></script>
        <script src="../searcher-c2a407aa.js"></script>

        <script src="../clipboard-1626706a.min.js"></script>
        <script src="../highlight-862e895d.js"></script>
        <script src="../book-a0b12cfe.js"></script>

        <!-- Custom JS scripts -->
        <script src="../redirects-4afb32ee.js"></script>



    </div>
    </body>
</html>
